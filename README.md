# Matlab2

# # Расчет бюджета радиосети и определение количества базовых станций
## 1. Введение

Данный отчет включает расчеты бюджета восходящего и нисходящего каналов связи, расчет максимально допустимых потерь сигнала (MAPL) и анализ моделей потерь радиосигнала в зависимости от расстояния между приемником и передатчиком. Также проведен расчет количества базовых станций, необходимых для покрытия заданной территории.

## 2. Расчет бюджета восходящего канала

## Функция: `calculate_MAPL_UL()`

Функция выполняет расчет максимально допустимых потерь сигнала (MAPL) для восходящего канала (UL) с использованием заданных параметров.

```matlab
function MAPL_UL = calculate_MAPL_UL()
    TxPower_UE = 24; % Мощность передатчика UE в дБм
    FeederLoss = 2; % Потери в фидере в дБ
    AntGain_BS = 21; % Коэффициент усиления антенны BS в дБи
    MIMOGain = 3; % Выигрыш от MIMO в дБ
    IM = 1; % Запас мощности на интерференцию в дБ
    PenetrationM = 15; % Запас мощности на проникновение в дБ
    
    % Полоса частот для UL (10 МГц)
    BW_UL = 10e6; % Гц

    % Чувствительность приемника BS
    ThermalNoise = -174 + 10 * log10(BW_UL); % Тепловой шум в дБм
    NoiseFigure_BS = 2.4; % Коэффициент шума приемника BS в дБ
    SINR_UL = 4; % Требуемое отношение SINR для UL в дБ

    RxSens_BS = ThermalNoise + NoiseFigure_BS + SINR_UL; % дБм
    
    MAPL_UL = TxPower_UE - FeederLoss + AntGain_BS + MIMOGain - RxSens_BS - IM - PenetrationM;
    fprintf('Максимально допустимые потери сигнала MAPL_UL: %.2f дБ\n', MAPL_UL);
end
```
Максимально допустимые потери сигнала MAPL_UL: <127,6> дБ


## 3. Расчет бюджета нисходящего канала
Функция calculate_MAPL_DL предназначена для вычисления бюджета нисходящего канала (DL) и уровня максимально допустимых потерь сигнала (MAPL_DL).

```matlab

function MAPL_DL = calculate_MAPL_DL()
    TxPower_BS = 46; % Мощность передатчика BS в дБм
    FeederLoss = 2; % Потери в фидере в дБ
    AntGain_BS = 21; % Коэффициент усиления антенны BS в дБи
    MIMOGain = 3; % Выигрыш от MIMO в дБ
    IM = 1; % Запас мощности на интерференцию в дБ
    PenetrationM = 15; % Запас мощности на проникновение в дБ
    
    % Полоса частот для DL (20 МГц)
    BW_DL = 20e6; % Гц

    % Чувствительность приемника UE
    ThermalNoise = -174 + 10 * log10(BW_DL); % Тепловой шум в дБм
    NoiseFigure_UE = 6; % Коэффициент шума приемника UE в дБ
    SINR_DL = 2; % Требуемое отношение SINR для DL в дБ

    RxSens_UE = ThermalNoise + NoiseFigure_UE + SINR_DL; % дБм
    
    MAPL_DL = TxPower_BS - FeederLoss + AntGain_BS + MIMOGain - RxSens_UE - IM - PenetrationM;
    fprintf('Максимально допустимые потери сигнала MAPL_DL: %.2f дБ\n', MAPL_DL);
end
```
Максимально допустимые потери сигнала MAPL_DL: 144,99 дБ
## 4. Зависимость входных потерь радиосигнала от расстояния
Реализованы модели для расчета потерь радиосигнала на основе расстояния между приемником и передатчиком с использованием следующих моделей:

Okumura-Hata COST231 для макросот.
UMiNLOS для микросот и фемтосот.


Free Space Path Loss Model (FSPM)

```matlab

function PL = FSPM(d)
    f_Hz = 1.8e9;
    PL = 20 * log10( 4 * pi * d * f_Hz / 3e8 );
end
Okomura-Hata COST123
matlab
Копировать код
function [PL_DU, PL_U] = OkomuraHata(d)
    % Модель Okumura-Hata
    % Логика для городских условий
end
UMi NLOS
matlab
Копировать код
function PL = UMiNLOS(d)
    f_GHz = 1.8;
    PL = 26 * log10(f_GHz) + 36.7 * log10(d);
end
```
Графики зависимости потерь от расстояния
На графиках ниже представлены зависимости потерь радиосигнала для различных моделей (Okumura-Hata и UMiNLOS).


``` matlab

figure;
    hold on;
    plot(DISTANCE_KM, PL_UMLS, 'm-', 'LineWidth', 1.5);
    plot(DISTANCE_KM, PL_U, 'g-', 'LineWidth', 1.5);
    xlabel('Расстояние, км');
    ylabel('Потери сигнала, дБ');
    title('Зависимость потерь радиосигнала от расстояния (UMiNLOS)');
    grid on;
    legend('UMiNLOS (Femto- и Microcells)');
    hold off;
```
## 5. Расчет радиуса базовой станции


## 6. Заключение
В результате расчетов бюджета восходящего и нисходящего каналов связи были получены значения MAPL_UL и MAPL_DL, что позволило построить зависимости потерь радиосигнала от расстояния. Модель UMiNLOS показала наименьший радиус покрытия, что определяет количество базовых станций для обеспечения покрытия на заданной территории.
